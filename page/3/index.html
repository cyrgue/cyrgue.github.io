<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page | cyrgue</title>
  <meta name="author" content="cyrgue">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="cyrgue"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="cyrgue" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">cyrgue</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-01-24T10:22:54.000Z"><a href="/2017/01/24/angular2-iframe/">2017-01-24</a></time>
      
      
  
    <h1 class="title"><a href="/2017/01/24/angular2-iframe/">angular2-iframe</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Creer-une-iFrame"><a href="#Creer-une-iFrame" class="headerlink" title="Créer une iFrame"></a>Créer une iFrame</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe <span class="attribute">width</span>=<span class="string">"100%"</span> <span class="attribute">height</span>=<span class="string">"400"</span> <span class="attribute">id</span>=<span class="string">"iframe"</span> #iframe <span class="attribute">frameborder</span>=<span class="string">"0"</span>&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Acceder-a-l’element-iFrame-dans-le-composant"><a href="#Acceder-a-l’element-iFrame-dans-le-composant" class="headerlink" title="Acceder à l’élément iFrame dans le composant"></a>Acceder à l’élément iFrame dans le composant</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, ElementRef, Renderer &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ConfigService &#125; <span class="keyword">from</span> <span class="string">'../../system/config.service'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; PreviewQuestionnaireService &#125; <span class="keyword">from</span> <span class="string">'../services/PreviewQuestionnaireService'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; ViewChild &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; DomSanitizer &#125; <span class="keyword">from</span> <span class="string">'@angular/platform-browser'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">    selector: <span class="string">'preview'</span>,</span><br><span class="line">    templateUrl: <span class="string">'preview.template.html'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> PreviewComponent &#123;</span><br><span class="line">    previewUrl: <span class="built_in">string</span>;</span><br><span class="line">    <span class="meta">@ViewChild</span>(<span class="string">'iframe'</span>) iframe: ElementRef;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"><span class="keyword">private</span> configService: ConfigService, <span class="keyword">private</span> sanitizer: DomSanitizer, <span class="keyword">private</span> previewQuestionnaireService: PreviewQuestionnaireService, <span class="keyword">private</span> renderer: Renderer</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ngAfterViewInit(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.previewQuestionnaireService.questionnaireId.subscribe(<span class="function">(<span class="params">qId:<span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> url = <span class="keyword">this</span>.configService.config.previewUrl + <span class="string">'/#/questionnaires/'</span> + qId;</span><br><span class="line">            <span class="keyword">this</span>.previewQuestionnaireService.getQuestionnaireUrl(url).subscribe(<span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>.previewUrl = url;</span><br><span class="line">            &#125;,<span class="function">(<span class="params">err</span>) =&gt;</span></span><br><span class="line">                <span class="keyword">this</span>.previewUrl = <span class="string">'preview-not-found.html'</span></span><br><span class="line">            ), <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.renderer.setElementProperty(<span class="keyword">this</span>.iframe.nativeElement, <span class="string">'src'</span>,<span class="keyword">this</span>.previewUrl)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-01-07T11:50:20.000Z"><a href="/2017/01/07/Kubernetes/">2017-01-07</a></time>
      
      
  
    <h1 class="title"><a href="/2017/01/07/Kubernetes/">Kubernetes</a></h1>
  

    </header>
    <div class="entry">
      
        <p><a href="http://kubernetes.io/docs/hellonode/" target="_blank" rel="noopener">http://kubernetes.io/docs/hellonode/</a><br>Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications.</p>
<ul>
<li><p>Horizontal scaling<br>Google Container Engine (a Google-hosted version of Kubernetes)</p>
<p>Google Cloud Platform</p>
</li>
</ul>
<p>TODO : Create an app with hapijs<br> <a href="https://github.com/robertschultz/docker-nodejs-hapi/blob/master/app.js" target="_blank" rel="noopener">https://github.com/robertschultz/docker-nodejs-hapi/blob/master/app.js</a></p>
<h2 id="Create-a-Docker-container-image"><a href="#Create-a-Docker-container-image" class="headerlink" title="Create a Docker container image"></a>Create a Docker container image</h2><pre><code>docker build -t gcr.io/sport-kubernetes-codelab/hello-node:v1 .
docker run -d -p 8080:8080 --name hello_tutorial gcr.io/sport-kubernetes-codelab/hello-node:v1
gcloud docker -- push gcr.io/sport-kubernetes-codelab/hello-node:v1
</code></pre><h2 id="Create-a-Kubernetes-Cluster"><a href="#Create-a-Kubernetes-Cluster" class="headerlink" title="Create a Kubernetes Cluster"></a>Create a Kubernetes Cluster</h2><p>A cluster consists of</p>
<ul>
<li>a Master API server</li>
<li>a set of worker VMs called Nodes.</li>
</ul>
<p>1 - First, choose a Google Cloud Project zone to run your service</p>
<pre><code>gcloud config set compute/zone us-central1-a
</code></pre><p>2 - Create a Kubernetes  cluster (Kubernetes cluster with three ?? nodes, ready to receive your container image!)</p>
<pre><code>gcloud container clusters create hello-world
</code></pre><p>Now deploy your own containerized application to the Kubernetes cluster!</p>
<h2 id="Create-your-pod"><a href="#Create-your-pod" class="headerlink" title="Create your pod"></a>Create your pod</h2><p>A Kubernetes pod is a group of containers, tied together for the purposes of administration and networking. It can contain a single container or multiple.</p>
<pre><code>kubectl run hello-node --image=gcr.io/sport-kubernetes-codelab/hello-node:v1 --port=8080
</code></pre><p>kubectl run created a Deployment object (used to manage creation and scaling of pods) In this example, a new deployment manages a single pod replica running the hello-node:v1 image.</p>
<p>To view the Deployment  :<br>        kubectl get deployments</p>
<p>To view the Pod created by the deployment run :</p>
<pre><code>kubectl get pods
</code></pre><p>To view the stdout / stderr from a Pod run :</p>
<pre><code>kubectl logs &lt;POD-NAME&gt;
</code></pre><p>Allow external traffic<br>                By default, the pod is only accessible by its internal IP within the Kubernetes cluster.<br>                kubectl expose deployment hello-node –type=”LoadBalancer”<br>                The flag used in this command specifies that we’ll be using the load-balancer provided by the underlying infrastructure (in this case the Compute Engine load balancer).</p>
<pre><code>kubectl get services hello-node
kubectl logs &lt;POD-NAME&gt;
</code></pre><p>Scale up<br>                Tell the deployment to manage a new number of replicas for your pod: kubectl scale deployment hello-node –replicas=4<br>                kubectl get pods<br> Se connecter au cluster<br>Configurez l’accès à la ligne de commande kubectl en exécutant la commande suivante :</p>
<p>gcloud container clusters get-credentials hello-world  –zone us-east1-c –project sport-kubernetes-codelab<br>$<br>Ensuite, démarrez un proxy pour vous connecter au plan de commande Kubernetes :</p>
<p>kubectl proxy<br>$<br>Ouvrez ensuite l’interface du tableau de bord en accédant à l’emplacement suivant dans votre navigateur :</p>
<p><a href="http://localhost:8001/ui" target="_blank" rel="noopener">http://localhost:8001/ui</a></p>
<p> kubectl run hello-node –image=gcr.io/sport-kubernetes-codelab/hello-node:v1 –port=8080<br>Fix on Windows<br><a href="http://stackoverflow.com/questions/39277986/unable-to-push-to-google-container-registry-unable-to-access-the-repository?answertab=votes#tab-top" target="_blank" rel="noopener">http://stackoverflow.com/questions/39277986/unable-to-push-to-google-container-registry-unable-to-access-the-repository?answertab=votes#tab-top</a><br><a href="https://github.com/kubernetes/kubernetes/issues/34395" target="_blank" rel="noopener">https://github.com/kubernetes/kubernetes/issues/34395</a></p>
<p>kubectl.sh run postgres –image=postgres –replicas=1</p>
<p>kubectlrun  elasticsearch –image=elasticsearch:5.1.1 –replicas=1<br>kubectl expose deployment elasticsearch –port=9300   –type=ClusterIP</p>
<p> Cleaning it Up</p>
<h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><p><a href="https://developer.ibm.com/recipes/tutorials/kubernetes-how-to-run-a-node-js-application-which-accesses-mongo-database-where-both-are-running-in-containers-in-different-pods/" target="_blank" rel="noopener">https://developer.ibm.com/recipes/tutorials/kubernetes-how-to-run-a-node-js-application-which-accesses-mongo-database-where-both-are-running-in-containers-in-different-pods/</a><br><a href="http://docs.spring.io/spring-cloud-dataflow-server-kubernetes/docs/1.0.1.RELEASE/reference/html/_deploying_streams_on_kubernetes.html" target="_blank" rel="noopener">http://docs.spring.io/spring-cloud-dataflow-server-kubernetes/docs/1.0.1.RELEASE/reference/html/_deploying_streams_on_kubernetes.html</a></p>
<p><a href="https://www.slalom.com/thinking/packaging-spring-boot-applications-for-deployment-on-kubernetes" target="_blank" rel="noopener">https://www.slalom.com/thinking/packaging-spring-boot-applications-for-deployment-on-kubernetes</a></p>
<p><a href="http://kubernetes.io/docs/getting-started-guides/meanstack/" target="_blank" rel="noopener">http://kubernetes.io/docs/getting-started-guides/meanstack/</a></p>
<p><a href="http://kubernetes.io/docs/tutorials/stateful-application/run-stateful-application/" target="_blank" rel="noopener">http://kubernetes.io/docs/tutorials/stateful-application/run-stateful-application/</a><br><a href="http://kubernetes.io/docs/user-guide/pods/single-container/" target="_blank" rel="noopener">http://kubernetes.io/docs/user-guide/pods/single-container/</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-16T13:17:02.000Z"><a href="/2016/12/16/angular2-architecture/">2016-12-16</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/16/angular2-architecture/">angular2-architecture</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Strategie</p>
<h2 id="Utilisation-des-services-comme-singleton"><a href="#Utilisation-des-services-comme-singleton" class="headerlink" title="Utilisation des services comme singleton,"></a>Utilisation des services comme singleton,</h2><ul>
<li>les proprietes sont des objets du domaine</li>
</ul>
<p>Pb de loading et de rafraichissement<br>avantages de la subscription, mais parfois undefined….</p>
<p>Mais peux etre interessant, par exemple pour stocker une donnée qui ne change pas dans l’application<br>Ex : Login et User,</p>
<h2 id="Utilisation-des-services-avec-des-Observables"><a href="#Utilisation-des-services-avec-des-Observables" class="headerlink" title="Utilisation des services avec des Observables"></a>Utilisation des services avec des Observables</h2><h2 id="Utilisation-de-Redux-et-d’un-Store-Central"><a href="#Utilisation-de-Redux-et-d’un-Store-Central" class="headerlink" title="Utilisation de Redux et d’un Store Central"></a>Utilisation de Redux et d’un Store Central</h2><p>Les services servent alors d’utilitaires pour manipuler les données vennant du store<br>Le composant récupere les données du store, peut demander au service de filter, trier…. avant d’afficher les données ou de passer les données aux composant enfants</p>
<p> The services are singleton objects that<br>play two roles:</p>
<ol>
<li>Provide streams of data that our application can subscribe to</li>
<li>Provide operations to add or modify data</li>
</ol>
<p>• The services maintain streams which emit models (e.g. Messages)<br>• The components subscribe to those streams and render according to the most recent values</p>
<p>The point of the UserService is to provide a place where our application can learn about the current<br>user and also notify the rest of the application if the current user changes.</p>
<p>One consequence of streams is that, because messages are published immediately, a new subscriber<br>risks missing the latest value of the stream. BehaviourSubject compensates for this.<br>BehaviourSubject⁷⁴ has a special property in that it stores the last value. Meaning that any<br>subscriber to the stream will receive the latest value. This is great for us because it means that<br>any part of our application can subscribe to the UserService.currentUser stream and immediately<br>know who the current user is.</p>
<p>MessagesService: 3 “data management” streams and 2 “action” streams.<br>The three data management streams are:<br>• newMessages - emits each new Message only once<br>• messages - emits an array of the current Messages<br>• updates - performs operations on messages</p>
<p>map<br>filter<br>reduce</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-11T15:44:39.000Z"><a href="/2016/12/11/docker/">2016-12-11</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/11/docker/">docker</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="Listing-Docker-images"><a href="#Listing-Docker-images" class="headerlink" title="Listing Docker images"></a>Listing Docker images</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker images</span></span><br></pre></td></tr></table></figure>
<h3 id="Listing-all-containers"><a href="#Listing-all-containers" class="headerlink" title="Listing all containers"></a>Listing all containers</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker ps -a</span></span><br></pre></td></tr></table></figure>
<h3 id="Deleting-all-containers"><a href="#Deleting-all-containers" class="headerlink" title="Deleting all containers"></a>Deleting all containers</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f `docker ps -a -q`</span><br></pre></td></tr></table></figure>
<h2 id="Creer-une-une-image-de-base"><a href="#Creer-une-une-image-de-base" class="headerlink" title="Créer une une image de base"></a>Créer une une image de base</h2><p>1 - Generer l’image de base nginx FROM nginx:1.11.6<br>2 - Recuperer manuellement le fichier default .com /etc/nginx/conf.d/default.conf<br>sudo docker cddffd678908:/etc/nginx/conf.d/default.conf default.conf<br>3 - Activer le SSO<br>4 - Changer le repertoire par default du web<br>5 - Creer une image de base bi-nginx</p>
<p>6 - Utiliser cette image de base pour créer les autres images web</p>
<h3 id="Generer-l’image-de-base"><a href="#Generer-l’image-de-base" class="headerlink" title="Generer l’image de base"></a>Generer l’image de base</h3><p>docker build -t cguerin/bi-nginx</p>
<p>sudo docker build -t cguerin/bi-admin-ui .</p>
<p>Demarrer le container</p>
<p>sudo docker run -d -p 81:80 –name bi-admin-ui cguerin/bi-admin-ui</p>
<p>sudo docker cp  docker/environment.html 5c436576ddee:/var/www/html/website/environment.html</p>
<p>sudo docker build -t bfd.repo.explorancedev.com:18444/bi-explorance/bi-nginx:1.0.0 .</p>
<p>sudo docker login bfd.repo.explorancedev.com:18444<br>sudo docker push bfd.repo.explorancedev.com:18444/bi-explorance/bi-nginx:1.0.0</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-06T01:06:15.000Z"><a href="/2016/12/05/angular2-tests/">2016-12-05</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/05/angular2-tests/">angular2-tests</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Unit-Tests"><a href="#Unit-Tests" class="headerlink" title="Unit Tests"></a>Unit Tests</h2><h3 id="Simple-Class"><a href="#Simple-Class" class="headerlink" title="Simple Class"></a>Simple Class</h3><figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import &#123;<span class="type">User</span>&#125; from <span class="string">'./user'</span>;</span><br><span class="line"><span class="keyword">let</span> user: <span class="type">User</span> = &#123;</span><br><span class="line">    id: <span class="symbol">'dtrump'</span>,</span><br><span class="line">    firstName: <span class="symbol">'Jean'</span>,</span><br><span class="line">    lastName: <span class="symbol">'Bambois'</span>,</span><br><span class="line">    university: <span class="symbol">'Univesity</span> <span class="keyword">of</span> <span class="type">Toronto'</span>,</span><br><span class="line">    title: <span class="symbol">'Assistant</span> professor <span class="keyword">of</span> <span class="type">English</span> <span class="type">Literature'</span>,</span><br><span class="line">    avatar:<span class="symbol">'assets</span>/img/a5.jpg',</span><br><span class="line">    lang: <span class="symbol">'en'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">describe(<span class="symbol">'User'</span>, <span class="literal">()</span> =&gt; &#123;</span><br><span class="line">    describe(<span class="symbol">'user</span> constructor', <span class="literal">()</span> =&gt; &#123;</span><br><span class="line">        it(<span class="symbol">'should</span> create user <span class="keyword">with</span> correct fields', <span class="literal">()</span> =&gt; &#123;</span><br><span class="line">            expect(user.id).toBe(<span class="symbol">'dtrump'</span>);</span><br><span class="line">            expect(user.firstName).toBe(<span class="symbol">'Jean'</span>);</span><br><span class="line">            expect(user.lastName).toBe(<span class="symbol">'Bambois'</span>);</span><br><span class="line">            expect(user.university).toBe(<span class="symbol">'Univesity</span> <span class="keyword">of</span> <span class="type">Toronto'</span>);</span><br><span class="line">            expect(user.title).toBe(<span class="symbol">'Assistant</span> professor <span class="keyword">of</span> <span class="type">English</span> <span class="type">Literature'</span>);</span><br><span class="line">            expect(user.avatar).toBe(<span class="symbol">'assets</span>/img/a5.jpg');</span><br><span class="line">            expect(user.lang).toBe(<span class="symbol">'en'</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="Simple-Component"><a href="#Simple-Component" class="headerlink" title="Simple Component"></a>Simple Component</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;TestBed, inject&#125; <span class="keyword">from</span> <span class="string">'@angular/core/testing'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;EvaluationsListComponent&#125; <span class="keyword">from</span> <span class="string">'./evaluations-list.component'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;Evaluation&#125; <span class="keyword">from</span> <span class="string">'../../evaluation/model/evaluation'</span>;</span><br><span class="line">describe(<span class="string">'EvaluationsListComponent'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> TestBed.configureTestingModule(&#123;</span><br><span class="line">        providers: [</span><br><span class="line">            EvaluationsListComponent</span><br><span class="line">        ]</span><br><span class="line">    &#125;));</span><br><span class="line"></span><br><span class="line">    it(<span class="string">'should be initiale correctly'</span>, inject([EvaluationsListComponent], <span class="function"><span class="params">(component: EvaluationsListComponent)</span> =&gt;</span> &#123;</span><br><span class="line">        expect(component.evaluations.length).toBe(<span class="number">0</span>);</span><br><span class="line">        expect(component.selectedEvaluation).toBeUndefined();</span><br><span class="line">    &#125;));</span><br><span class="line"></span><br><span class="line">    describe(<span class="string">'hasEvaluations method'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        it(<span class="string">'should return false by default'</span>, inject([EvaluationsListComponent], <span class="function"><span class="params">(component: EvaluationsListComponent)</span> =&gt;</span> &#123;</span><br><span class="line">            expect(component.hasEvaluations()).toBeFalsy();</span><br><span class="line">        &#125;));</span><br><span class="line"></span><br><span class="line">        it(<span class="string">'should return true when evaluations is not empty'</span>, inject([EvaluationsListComponent], <span class="function"><span class="params">(component: EvaluationsListComponent)</span> =&gt;</span> &#123;</span><br><span class="line">            component.evaluations = [<span class="keyword">new</span> Evaluation(&#123;id: <span class="string">'ev1'</span>&#125;)];</span><br><span class="line">            expect(component.hasEvaluations()).toBeTruthy();</span><br><span class="line">        &#125;));</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    describe(<span class="string">'isSelected method'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        it(<span class="string">'should return false id evaluation is not selected'</span>, inject([EvaluationsListComponent], <span class="function"><span class="params">(component: EvaluationsListComponent)</span> =&gt;</span> &#123;</span><br><span class="line">            expect(component.isSelected(<span class="keyword">new</span> Evaluation(&#123;id: <span class="string">'ev1'</span>&#125;))).toBeFalsy();</span><br><span class="line">        &#125;));</span><br><span class="line"></span><br><span class="line">        it(<span class="string">'should return true when evaluations is not empty'</span>, inject([EvaluationsListComponent], <span class="function"><span class="params">(component: EvaluationsListComponent)</span> =&gt;</span> &#123;</span><br><span class="line">            let evaluation = <span class="keyword">new</span> Evaluation(&#123;id: <span class="string">'ev1'</span>&#125;);</span><br><span class="line">            component.selectedEvaluation = evaluation;</span><br><span class="line">            expect(component.isSelected(evaluation)).toBeTruthy();</span><br><span class="line">        &#125;));</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-29T03:53:53.000Z"><a href="/2016/11/28/angular2-bootstap/">2016-11-28</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/28/angular2-bootstap/">Angular2 et Bootstrap</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Angular2-Webpack-et-Bootstrap-3"><a href="#Angular2-Webpack-et-Bootstrap-3" class="headerlink" title="Angular2 , Webpack et Bootstrap 3"></a>Angular2 , Webpack et Bootstrap 3</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install </span><span class="keyword">jquery </span><span class="keyword">bootstrap </span>font-awesome --save</span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-vendor-browser-ts-ajouter"><a href="#Dans-le-fichier-vendor-browser-ts-ajouter" class="headerlink" title="Dans le fichier vendor.browser.ts, ajouter:"></a>Dans le fichier <strong>vendor.browser.ts</strong>, ajouter:</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">import</span> 'jquery';</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">import</span> 'bootstrap/dist/js/bootstrap';</span></span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-webpack-common-js"><a href="#Dans-le-fichier-webpack-common-js" class="headerlink" title="Dans le fichier webpack.common.js"></a>Dans le fichier <strong>webpack.common.js</strong></h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">new</span> <span class="selector-tag">webpack</span><span class="selector-class">.ProvidePlugin</span>(&#123;</span><br><span class="line">       <span class="attribute">jQuery</span>: <span class="string">'jquery'</span>,</span><br><span class="line">       $: <span class="string">'jquery'</span>,</span><br><span class="line">       jquery: <span class="string">'jquery'</span></span><br><span class="line">     &#125;),</span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-app-css"><a href="#Dans-le-fichier-app-css" class="headerlink" title="Dans le fichier app.css"></a>Dans le fichier <strong>app.css</strong></h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"../../node_modules/bootstrap/dist/css/bootstrap.css"</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"../../node_modules/font-awesome/css/font-awesome.css"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-app-component-ts"><a href="#Dans-le-fichier-app-component-ts" class="headerlink" title="Dans le fichier app.component.ts"></a>Dans le fichier <strong>app.component.ts</strong></h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@Component</span>(&#123;</span><br><span class="line">    <span class="attribute">selector</span>: <span class="string">'app'</span>,</span><br><span class="line">    <span class="attribute">templateUrl</span>: <span class="string">'app.html'</span>,</span><br><span class="line">    <span class="attribute">encapsulation</span>: ViewEncapsulation.None,</span><br><span class="line">    <span class="attribute">styleUrls</span>: [<span class="string">'./app.css'</span>],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Angular2-Webpack-et-Bootstrap-4"><a href="#Angular2-Webpack-et-Bootstrap-4" class="headerlink" title="Angular2 , Webpack et Bootstrap 4"></a>Angular2 , Webpack et Bootstrap 4</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">npm</span> <span class="selector-tag">install</span> <span class="selector-tag">jquery</span> <span class="selector-tag">bootstrap</span>@<span class="keyword">4</span>.<span class="keyword">0</span>.<span class="keyword">0</span>-<span class="keyword">alpha</span>.<span class="keyword">5</span> font-awesome tether --save</span><br><span class="line">npm install --save-dev sass-loader raw-loader file-loader node-sass</span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-vendor-browser-ts-ajouter-1"><a href="#Dans-le-fichier-vendor-browser-ts-ajouter-1" class="headerlink" title="Dans le fichier vendor.browser.ts, ajouter:"></a>Dans le fichier <strong>vendor.browser.ts</strong>, ajouter:</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">import</span> 'jquery';</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">import</span> 'tether';</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">import</span> 'bootstrap';</span></span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-webpack-common-js-1"><a href="#Dans-le-fichier-webpack-common-js-1" class="headerlink" title="Dans le fichier webpack.common.js"></a>Dans le fichier <strong>webpack.common.js</strong></h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="string">test:</span> <span class="regexp">/\.scss$/</span>, <span class="string">loaders:</span> [<span class="string">'raw-loader'</span>, <span class="string">'sass-loader'</span>] &#125;,</span><br><span class="line"></span><br><span class="line">       &#123; <span class="string">test:</span> <span class="regexp">/\.(woff2?|ttf|eot|svg)$/</span>, <span class="string">loader:</span> <span class="string">'url?limit=10000&amp;name=[name].[ext]'</span> &#125;,</span><br><span class="line"></span><br><span class="line">       <span class="comment">// Bootstrap 4</span></span><br><span class="line">       &#123; <span class="string">test:</span> <span class="regexp">/bootstrap\/</span>dist\<span class="regexp">/js\/</span>umd\<span class="comment">//, loader: 'imports?jQuery=jquery' &#125;,</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">new</span> <span class="selector-tag">webpack</span><span class="selector-class">.ProvidePlugin</span>(&#123;</span><br><span class="line">      <span class="attribute">jQuery</span>: <span class="string">'jquery'</span>,</span><br><span class="line">      $: <span class="string">'jquery'</span>,</span><br><span class="line">      jquery: <span class="string">'jquery'</span>,</span><br><span class="line">      <span class="string">"window.jQuery"</span>: <span class="string">"jquery"</span>,</span><br><span class="line">      <span class="string">"window.Tether"</span>: <span class="string">'tether'</span></span><br><span class="line">    &#125;),</span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-app-scss"><a href="#Dans-le-fichier-app-scss" class="headerlink" title="Dans le fichier app.scss"></a>Dans le fichier <strong>app.scss</strong></h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"../../node_modules/bootstrap/scss/bootstrap"</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"../../node_modules/font-awesome/scss/font-awesome"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Dans-le-fichier-app-component-ts-1"><a href="#Dans-le-fichier-app-component-ts-1" class="headerlink" title="Dans le fichier app.component.ts"></a>Dans le fichier <strong>app.component.ts</strong></h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@Component</span>(&#123;</span><br><span class="line">  <span class="attribute">selector</span>: <span class="string">'app'</span>,</span><br><span class="line">  <span class="attribute">encapsulation</span>: ViewEncapsulation.None,</span><br><span class="line">    <span class="attribute">styleUrls</span>: [</span><br><span class="line">        <span class="string">'application.scss'</span></span><br><span class="line">    ],</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-27T16:55:00.000Z"><a href="/2016/11/27/rabbitMq/">2016-11-27</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/27/rabbitMq/">RabbitMq</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Presentation"><a href="#Presentation" class="headerlink" title="Presentation"></a>Presentation</h1><p>RabbitMQ is an open source messaging broker. It’s often referred to as a message-oriented middleware that implements the Advanced Message Queuing Protocol (AMQP).</p>
<p>AMQP makes it easy to decouple applications.<br>RabbitMQ provides a common platform for sending and receiving messages, where it guarantee the safety of messages until they are received.<br>RabbitMQ guarantees data delivery, provides non-blocking operations, and sends push notifications.<br>RabbitMQ provides a variety of features, including the tuning of application performance, clustering, flexible routing, federation, and so on.<br>RabbitMQ is one of the most powerful open source message broker software that is widely used in the tech companies such as Mozilla, VMware, Google, AT&amp;T, and so on</p>
<h2 id="Message-brokers"><a href="#Message-brokers" class="headerlink" title="Message brokers"></a>Message brokers</h2><p>A Message Broker is an architectural pattern that can receive messages from multiple destinations, determine the correct destination, and route the message along the correct route,<br>Message Brokers are centralized, in the architectural sense, to control and manage all messages. Therefore, all of the incoming and outgoing messages are sent through Message Brokers, which analyze and deliver the messages to their correct destination.</p>
<h2 id="Message-Queues"><a href="#Message-Queues" class="headerlink" title="Message Queues"></a>Message Queues</h2><p>Message Queues provide concurrent and asynchronous operations to scale applications</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">channel.queueDeclare(queueName,</span> <span class="literal">true</span><span class="string">,</span> <span class="literal">false</span><span class="string">,</span> <span class="literal">false</span><span class="string">,</span> <span class="literal">null</span><span class="string">);</span></span><br></pre></td></tr></table></figure>
<ul>
<li>durable: This specifies whether the queue will survive server restarts. Note that it is required for a queue to be declared as durable if you want persistent messages to survive a server restart.</li>
<li>exclusive: This specifies whether the queue is restricted to only this connection.</li>
<li>autoDelete: This specifies whether the queue will be automatically deleted by the RabbitMQ broker as soon as it is not in use.</li>
</ul>
<p><a href="http://www.rabbitmq.com/releases/rabbitmq-java-client/current-javadoc/com/rabbitmq/client/Channel.html#queueDeclare--" target="_blank" rel="noopener">JavaDoc</a></p>
<p>RabbitMq and EC2<br>we can easily install our RabbitMQ to the AWS EC2 instance and can save images of the RabbitMQ installed operating system</p>
<h2 id="Virtual-hosts"><a href="#Virtual-hosts" class="headerlink" title="Virtual hosts"></a>Virtual hosts</h2><p>Virtual hosts are administrative containers; they allow to configure many logically independent brokers hosts within one single RabbitMQ instance, to let many different independent applications share the same RabbitMQ server. Each virtual host can be configured with its independent set of permissions, exchanges, and queues and will work in a logically separated environment.</p>
<h1 id="Delayed-Message-Exchange"><a href="#Delayed-Message-Exchange" class="headerlink" title="Delayed Message Exchange"></a>Delayed Message Exchange</h1><p>1 - Ajouter le plugin (attention sur docker + ubuntu mettre le fichier 777)</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker cp rabbitmq_delayed_message_exchange-<span class="number">0.0</span>.<span class="number">1</span>.ez  <span class="number">88</span><span class="symbol">da72966ec8:</span>/usr/<span class="class"><span class="keyword">lib</span>/<span class="title">rabbitmq</span>/<span class="title">lib</span>/<span class="title">rabbitmq_server</span>-3.6.5/<span class="title">plugins</span>/<span class="title">rabbitmq_delayed_message_exchange</span>-0.0.1.<span class="title">ez</span></span></span><br><span class="line">sudo docker -it <span class="number">88</span>da72966ec8 bash</span><br></pre></td></tr></table></figure>
<p>2 - Declarer un Exchange avec delay</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableRabbit</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> String queueName = <span class="string">"spring-boot2"</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> String topicName = <span class="string">"spring-boot-exchange2"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">Queue <span class="title">queue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(queueName, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">TopicExchange <span class="title">exchange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        TopicExchange topic = <span class="keyword">new</span> TopicExchange(topicName);</span><br><span class="line">        topic.setDelayed(<span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">return</span> topic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">Binding <span class="title">binding</span><span class="params">(Queue queue, TopicExchange exchange)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(queue).to(exchange).with(queueName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3 - Lors de la reception, renvoyer le message avec un delai</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Receiver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Receiver</span><span class="params">(<span class="keyword">final</span> RabbitTemplate rabbitTemplate)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.rabbitTemplate = rabbitTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = Application.queueName)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiveMessage</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Received &lt;"</span> + message + <span class="string">"&gt;"</span>);</span><br><span class="line"></span><br><span class="line">        rabbitTemplate.convertAndSend(Application.topicName, Application.queueName, message, <span class="keyword">new</span> MessagePostProcessor() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Message <span class="title">postProcessMessage</span><span class="params">(Message message)</span> <span class="keyword">throws</span> AmqpException </span>&#123;</span><br><span class="line">                message.getMessageProperties().setDelay(<span class="number">15000</span>);</span><br><span class="line">                <span class="keyword">return</span> message;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ul>
<li><a href="http://docs.spring.io/spring-amqp/reference/html/_reference.html#delayed-message-exchange" target="_blank" rel="noopener">Spring AMQP</a></li>
<li><a href="https://github.com/rabbitmq/rabbitmq-delayed-message-exchange" target="_blank" rel="noopener">RabbitMQ Delayed Message Plugin</a></li>
<li><a href="http://stackoverflow.com/questions/17014584/how-to-create-a-delayed-queue-in-rabbitmq" target="_blank" rel="noopener">How to create a delayed queue in RabbitMQ?</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-02-09T03:29:52.000Z"><a href="/2016/02/08/Programmation-Reactive/">2016-02-08</a></time>
      
      
  
    <h1 class="title"><a href="/2016/02/08/Programmation-Reactive/">Programmation Reactive</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Programmation Réactive Fonctionnelle (PRF)<br>Programmation réactive = programmation avec des flux de données asynchrones.<br>Un flux est une séquence d’événements en cours de production et ordonnés dans le temps.<br>Rien de nouveau : Les bus d’événements et les événements type clics de souris sont simplement des flux d’événements asynchrones que l’on peut observer pour y réagir.<br>La PR, c’est la même idée mais survitaminée. Il devient possible de créer des flux à partir de tout et n’importe quoi, pas seulement de clics. Ces flux sont légers et présents de partout. Tout peut alors être un flux : les variables, les entrées utilisateurs, les propriétés, les caches, les structures de données, etc.<br>est alors possible d’écouter/observer ce flux et réagir aux changements.</p>
<p>En plus de ça, il y a à votre disposition des boîtes à outils puissantes pour combiner, créer, filtrer tous ces flux. C’est là que la partie « fonctionnelle » se combine bien avec la PR. Un flux peut être utilisé comme entrée d’un autre. Plusieurs flux peuvent aussi être combinés pour en produire un nouveau. Deux flux peuvent être fusionnés. Un flux peut être filtré pour produire un nouveau flux avec uniquement les événements qui vous intéressent. Vous pouvez transformer chaque événement d’un flux pour en produire un nouveau.<br>C’est là que la partie « fonctionnelle » se combine bien avec la PR. Un flux peut être utilisé comme entrée d’un autre. Plusieurs flux peuvent aussi être combinés pour en produire un nouveau. Deux flux peuvent être fusionnés. Un flux peut être filtré pour produire un nouveau flux avec uniquement les événements qui vous intéressent. Vous pouvez transformer chaque événement d’un flux pour en produire un nouveau.</p>
<p>L’idée est de traiter ces événements de manière asynchrone, en définissant une fonction à exécuter pour chaque valeur émise, une autre fonction à exécuter en cas d’erreur et une dernière pour le cas du signal de « fin ».<br>Dans certains cas particuliers, les deux dernières sont inutiles et il est suffisant de se concentrer sur la fonction qui traite les valeurs. Écouter un flux (listening), se dit aussi « souscrire au flux » (subscribing). En fait les fonction que l’on définit sont des observateurs et le sujet (objet observé) est le flux. C’est exactement le patron de conception observateur.</p>
<p>Dans les bibliothèque de programmation réactive fonctionnelle, il existe plein de fonctions pour manipuler les flux. Quand on appelle une de ces fonctions, cela renvoie un nouveau flux qui découle du premier. Le flux d’origine n’est pas modifié du tout. Cette propriété de non-modification est appelée « immutabilité » et est une des bases de la programmation fonctionnelle. Comme un nouveau flux est créé, il est possible de chaîner les appels, </p>
<p>La PR fonctionnelle élève le niveau d’abstraction de votre code et, au lieu de se battre avec des détails d’implantation, vous pouvez vous concentrer sur les interdépendances entre les événements de votre logique métier. Un code de PR fonctionnelle est très souvent plus concis, ce qui peut avoir certains avantages.</p>
<p>Ref : <a href="http://home.heeere.com/tech-intro-programmation-reactive.html" target="_blank" rel="noopener">http://home.heeere.com/tech-intro-programmation-reactive.html</a></p>
<p>cela renvoie un nouveau flux qui découle du premier. Le flux d’origine n’est pas modifié du tout. Cette propriété de non-modification est appelée « immutabilité » et est une des bases de la programmation fonctionnelle. Comme un nouveau flux est créé, il est possible de chaîner les appels, par</p>
<p>La fonction Rx.Observable.create() crée un flux qui informera chaque observateur de chaque nouvel événement (onNext()) et des erreurs (onError()).</p>
<p>Operations:<br>map (pour transformer chaque valeur),<br>filter (pour filtrer certaines valeurs),<br>scan (pour appliquer successivement une opération),<br>stream.throttle(250ms)</p>
<ul>
<li>Language (Thread, reference value)<br><a href="http://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded" target="_blank" rel="noopener">http://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded</a></li>
</ul>
<p>JavaScript (in browsers) doesn’t run concurrently2. At most one of the setTimeout callbacks can execute at a time - as there is one JavaScript execution context or “thread”.</p>
<p>Passage par valeur ou par référence ?<br>Variables are passed by value, objects by reference. Arrays in JavaScript are objects<br>Les objets simples comme String, Boolean, Number sont aussi passés par valeur.</p>
<p>Pour mémoire, un argument passé par valeur est copié, et c’est la copie qui est refilée à la fonction. Toute modification de cette copie n’entraîne donc aucun changement dans la donnée d’origine. En revanche, un argument passé par référence est refilé directement : la fonction travaille sur l’original.</p>
<p>Mais en Javascript, ce n’est pas vous qui choisissez le mode de passage ; ça fonctionne un peu comme en Java[1] : si c’est un type natif (Number, String, etc.) c’est passé par valeur, tandis que si c’est un objet d’une classe à vous, c’est passé par référence.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-16T23:35:21.000Z"><a href="/2016/01/16/Angularjs-2/">2016-01-16</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/16/Angularjs-2/">Angularjs 2</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="References"><a href="#References" class="headerlink" title="Références :"></a>Références :</h2><h3 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h3><ul>
<li><a href="https://angular.io/" target="_blank" rel="noopener">Angular Io</a></li>
<li><a href="http://blog.ng-book.com/the-ultimate-guide-to-forms-in-angular-2/" target="_blank" rel="noopener">ng-book</a></li>
<li><p><a href="http://blog.thoughtram.io/categories/angular-2/" target="_blank" rel="noopener">Blog</a></p>
</li>
<li><p><a href="http://victorsavkin.com/post/118372404541/the-core-concepts-of-angular-2" target="_blank" rel="noopener">http://victorsavkin.com/post/118372404541/the-core-concepts-of-angular-2</a></p>
</li>
<li><a href="https://github.com/angular/angular/tree/master/modules/playground/src" target="_blank" rel="noopener">https://github.com/angular/angular/tree/master/modules/playground/src</a></li>
</ul>
<h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><ul>
<li><a href="https://auth0.com/blog/2015/10/15/angular-2-series-part-3-using-http/" target="_blank" rel="noopener">Using HTTP</a></li>
<li><a href="http://chariotsolutions.com/blog/post/angular2-observables-http-separating-services-components/" target="_blank" rel="noopener">Observables et Http</a></li>
</ul>
<h3 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h3><ul>
<li><a href="http://blog.jhades.org/angular-2-application-architecture-building-flux-like-apps-using-redux-and-immutable-js-js/" target="_blank" rel="noopener">Building Flux Apps with Redux and Immutable.js</a></li>
<li><a href="https://angularclass.github.io/angular2-webpack-starter/" target="_blank" rel="noopener">Angular 2 Starter</a></li>
</ul>
<h3 id="Observable"><a href="#Observable" class="headerlink" title="Observable"></a>Observable</h3><ul>
<li><a href="http://victorsavkin.com/post/110170125256/change-detection-in-angular-2" target="_blank" rel="noopener">Angular 2 change detection system</a></li>
<li><a href="https://medium.com/google-developer-experts/angular-introduction-to-reactive-extensions-rxjs-a86a7430a61f#.iibmtk80f" target="_blank" rel="noopener">Introduction to Reactive Extensions (RxJS)</a></li>
<li><a href="http://blog.thoughtram.io/angular/2016/01/06/taking-advantage-of-observables-in-angular2.html" target="_blank" rel="noopener">Taking advantage of Observables in Angular 2</a></li>
</ul>
<h3 id="Routing"><a href="#Routing" class="headerlink" title="Routing"></a>Routing</h3><ul>
<li><a href="https://angular.io/docs/ts/latest/guide/router.html" target="_blank" rel="noopener">ROUTING &amp; NAVIGATION</a></li>
<li><a href="http://yakovfain.com/2015/11/02/angular-2-router-high-level-overview/" target="_blank" rel="noopener">Angular 2 Router: High-Level Overview</a></li>
</ul>
<hr>
<p> Notes</p>
<p>Angularjs 2 </p>
<p>An Angular 2 application consists of nested components. So an Angular 2 application will always have a component tree. Let’s say for this app it looks as follows:</p>
<p><a href="https://angular.io/docs/ts/latest/quickstart.html" target="_blank" rel="noopener">https://angular.io/docs/ts/latest/quickstart.html</a></p>
<p>TypeScript<br> Composant<br> Class<br> Interface</p>
<p>ngIf and ngFor are called “structural directives” because they can change the structure of portions of the DOM. In other words, they give structure to the way Angular displays content in the DOM</p>
<ul>
<li><p>The ngIf directive removes/puts the HTML from/into the DOM.</p>
<p>Structural Directives<br> A Structural directive changes the DOM layout by adding and removing DOM elements. </p>
 <p *ngif="condition">

</p><p> Angular removes the element from DOM, stops change detection for the associated component, detaches it from DOM events (the attachments that it made) and destroys the component. The component can be garbage-collected (we hope) and free up memory.<br> Components often have child components which themselves have children. All of them are destroyed when ngIf destroys the common ancestor. This cleanup effort is usually a good thing.</p>
</li>
</ul>
<p> Template Syntax </p>
<p>return this.jsonp<br>              .get(‘<a href="http://en.wikipedia.org/w/api.php?callback=JSONP_CALLBACK&#39;" target="_blank" rel="noopener">http://en.wikipedia.org/w/api.php?callback=JSONP_CALLBACK&#39;</a>, { search })<br>              .map((response) =&gt; response.json()[1]);</p>
<p>this.items = this.term.valueChanges<br>                 .debounceTime(400)<br>                 .distinctUntilChanged()<br>                 .switchMap(term =&gt; this.wikipediaService.search(term));</p>
<p>The map operator expects a function that takes a value T and returns a value U<br>you get from an Observable<t> to an Observable<u>.</u></t></p>
<p>to avoid Observable&lt;Observable&lt;Array<string>&gt; : The flatMap operator on the other hand expects a function that takes a T and returns an Observable<u> and produces an Observable<u> for us.<br>The switchMap operator is comparable to flatMap in a way. Both operators automatically subscribe to the Observable that the function produces and flatten the result for us. The difference is that the switchMap operator automatically unsubscribes from previous subscriptions as soon as the outer Observable emits new values.</u></u></string></p>
<hr>
<p>Reactive Extensions for JavaScript (RxJS) </p>
<ul>
<li><p>reactive streams library that allows you to work with asynchronous data streams. RxJS can be used both in the browser or in the server-side using Node.js.</p>
<p>In RxJS, you represent asynchronous data streams using observable sequences or also just called observables. </p>
</li>
</ul>
<p>Observable<br> An Observable is a collection that arrives over time. Observables can be used to model events, asynchronous requests, and animations. Observables can also be transformed, combined, and consumed using the Array methods<br> Observables = Promises + Events (in a way!)</p>
<p> <a href="https://egghead.io/lessons/javascript-introducing-the-observable" target="_blank" rel="noopener">https://egghead.io/lessons/javascript-introducing-the-observable</a></p>
<p>A voir : </p>
<ul>
<li>Form, ngFormControl, Control from angular2/common</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-10-21T12:01:40.000Z"><a href="/2015/10/21/Angularjs-directive/">2015-10-21</a></time>
      
      
  
    <h1 class="title"><a href="/2015/10/21/Angularjs-directive/">Angularjs directive</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="Directive"><a href="#Directive" class="headerlink" title="Directive"></a>Directive</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line">angular.module(<span class="string">'myModule'</span>).directive(<span class="string">'formGroup'</span>,  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    restrict: <span class="string">'E'</span>,</span><br><span class="line">    transclude: <span class="literal">true</span>,</span><br><span class="line">    templateUrl: <span class="string">'core/views/directives/form-group.html'</span>,</span><br><span class="line">    replace: <span class="literal">true</span>,</span><br><span class="line">    scope: &#123;</span><br><span class="line">      label: <span class="string">'@'</span>,</span><br><span class="line">      <span class="keyword">for</span>: <span class="string">'@'</span>,</span><br><span class="line">      labelClass: <span class="string">'@'</span>,</span><br><span class="line">      inputClass: <span class="string">'@'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    controller: [<span class="string">'$scope'</span>, <span class="string">'$element'</span>, <span class="string">'$attrs'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">]);</span><br></pre></td></tr></table></figure>
<h3 id="Template"><a href="#Template" class="headerlink" title="Template"></a>Template</h3><pre><code>&lt;div class=&quot;form-group&quot;&gt;
    &lt;label ng-if=&quot;label&quot; for=&quot;{{for}}&quot; class=&quot;control-label {{ labelClass }}&quot;&gt;{{ label }}&lt;/label&gt;

    &lt;div ng-transclude=&quot;ng-transclude&quot; class=&quot;ef-control {{ inputClass }}&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre><h3 id="Utilisation"><a href="#Utilisation" class="headerlink" title="Utilisation"></a>Utilisation</h3><pre><code>&lt;form-group for=&quot;name&quot; label=&quot;{{ 'medias.form.name'}}&quot; label-class=&quot;col-md-2&quot; input-class=&quot;col-md-10&quot;&gt;
    &lt;input name=&quot;name&quot; type=&quot;text&quot; class=&quot;form-control&quot; data-ng-model=&quot;media.name&quot; id=&quot;name&quot; required ng-maxlength=&quot;50&quot;&gt;
&lt;/form-group&gt;
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/2/" class="alignleft prev">Précédent</a>
  
  
    <a href="/page/4/" class="alignright next">Suivant</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Rechercher">
    <input type="hidden" name="q" value="site:cyrgue.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Sports/Baseball/">Baseball</a><small>0</small></li>
  
    <li><a href="/categories/Sports/">Sports</a><small>0</small></li>
  
    <li><a href="/categories/java/">java</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/angular/">angular</a><small>4</small></li>
  
    <li><a href="/tags/angular2/">angular2</a><small>2</small></li>
  
    <li><a href="/tags/angularjs/">angularjs</a><small>1</small></li>
  
    <li><a href="/tags/angularjs2/">angularjs2</a><small>1</small></li>
  
    <li><a href="/tags/architecture/">architecture</a><small>1</small></li>
  
    <li><a href="/tags/array/">array</a><small>1</small></li>
  
    <li><a href="/tags/aws/">aws</a><small>1</small></li>
  
    <li><a href="/tags/branch/">branch</a><small>1</small></li>
  
    <li><a href="/tags/componant/">componant</a><small>1</small></li>
  
    <li><a href="/tags/composant/">composant</a><small>1</small></li>
  
    <li><a href="/tags/configuration/">configuration</a><small>2</small></li>
  
    <li><a href="/tags/database/">database</a><small>1</small></li>
  
    <li><a href="/tags/directive/">directive</a><small>1</small></li>
  
    <li><a href="/tags/divertissement/">divertissement</a><small>0</small></li>
  
    <li><a href="/tags/docker/">docker</a><small>1</small></li>
  
    <li><a href="/tags/ecmascript-2015/">ecmascript 2015</a><small>1</small></li>
  
    <li><a href="/tags/eslint/">eslint</a><small>1</small></li>
  
    <li><a href="/tags/evaluation/">evaluation</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>2</small></li>
  
    <li><a href="/tags/iframe/">iframe</a><small>1</small></li>
  
    <li><a href="/tags/java/">java</a><small>5</small></li>
  
    <li><a href="/tags/java8/">java8</a><small>3</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>13</small></li>
  
    <li><a href="/tags/jsbin/">jsbin</a><small>1</small></li>
  
    <li><a href="/tags/lambda/">lambda</a><small>1</small></li>
  
    <li><a href="/tags/library/">library</a><small>1</small></li>
  
    <li><a href="/tags/ngrx/">ngrx</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>1</small></li>
  
    <li><a href="/tags/npm/">npm</a><small>1</small></li>
  
    <li><a href="/tags/observable/">observable</a><small>1</small></li>
  
    <li><a href="/tags/programmation-fonctionnelle/">programmation fonctionnelle</a><small>1</small></li>
  
    <li><a href="/tags/rxjs/">rxjs</a><small>1</small></li>
  
    <li><a href="/tags/select/">select</a><small>1</small></li>
  
    <li><a href="/tags/serverless/">serverless</a><small>2</small></li>
  
    <li><a href="/tags/sport/">sport</a><small>0</small></li>
  
    <li><a href="/tags/tests/">tests</a><small>1</small></li>
  
    <li><a href="/tags/thread/">thread</a><small>1</small></li>
  
    <li><a href="/tags/tools/">tools</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
    <div>test</div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2018 cyrgue
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>