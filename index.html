<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>cyrgue</title>
  <meta name="author" content="cyrgue">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="cyrgue"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="cyrgue" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">cyrgue</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-12-01T00:33:41.000Z"><a href="/2018/11/30/robot-framework/">2018-11-30</a></time>
      
      
  
    <h1 class="title"><a href="/2018/11/30/robot-framework/">Robot Framework</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h1><p><a href="http://robotframework.org/" target="_blank" rel="noopener">robotframework.org</a></p>
<h2 id="Selenium"><a href="#Selenium" class="headerlink" title="Selenium"></a>Selenium</h2><p><a href="http://robotframework.org/SeleniumLibrary/SeleniumLibrary.html" target="_blank" rel="noopener">SeleniumLibrary</a> is a web testing library for Robot Framework.</p>
<h3 id="Locating-elements"><a href="#Locating-elements" class="headerlink" title="Locating elements"></a>Locating elements</h3><table>
<thead>
<tr>
<th>Strategy</th>
<th>Match based on</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Element id.</td>
<td>id:example  or identifier:example</td>
</tr>
<tr>
<td>name</td>
<td>name attribute</td>
<td>name:example or identifier:example</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Implicit XPath strategy<br> If the locator starts with // ex: //div is equivalent to using explicit xpath://div.</p>
 <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    Click Element	<span class="regexp">//</span>div[@id=<span class="string">"foo"</span>]<span class="regexp">//</span>h1</span><br><span class="line">    Click Element	(<span class="regexp">//</span>div)[<span class="number">2</span>]</span><br><span class="line">    Click Element   xpath: <span class="regexp">//</span>*[contains(text(), <span class="string">"example"</span>)]</span><br><span class="line">Examples:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### Get Text in HTML</span></span><br></pre></td></tr></table></figure>
<p>${response}    Get Text    xpath=/html/body/div/tr[2]/td/strong<br>Should Be Equal As Strings    ${response}    Payment was successful<br><code>`</code></p>
</li>
</ul>
<h2 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h2><ul>
<li><a href="https://github.com/asyrjasalo/RESTinstance/blob/master/README.rst" target="_blank" rel="noopener">Library RESTinstance</a></li>
<li><a href="http://laurent.bristiel.com/robot-framework-rest-and-json-with-restinstance/" target="_blank" rel="noopener">Example with RESTinstance</a></li>
</ul>
<h2 id="Acceptance-Tests"><a href="#Acceptance-Tests" class="headerlink" title="Acceptance Tests"></a>Acceptance Tests</h2><p><a href="http://dhemery.com/pdf/writing_maintainable_automated_acceptance_tests.pdf" target="_blank" rel="noopener">Writing Maintainable Automated Acceptance Tests</a> </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-11-23T03:07:25.000Z"><a href="/2018/11/22/domain-driven-design/">2018-11-22</a></time>
      
      
  
    <h1 class="title"><a href="/2018/11/22/domain-driven-design/">Domain-driven design and event-driven microservices</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Learning-a-pathway-to-evolutionary-architecture"><a href="#Learning-a-pathway-to-evolutionary-architecture" class="headerlink" title="Learning a pathway to evolutionary architecture"></a>Learning a pathway to evolutionary architecture</h1><hr>
<p>Working with streams, lambda expressions, and method references in Java SE8 and beyond</p>
<ul>
<li><a href="https://www.safaribooksonline.com/live-training/courses/domain-driven-design-and-event-driven-microservices/0636920216261/" target="_blank" rel="noopener">Course Description</a></li>
<li><a href="https://github.com/ddd-edm-online-course/ddd-edm-course-materials" target="_blank" rel="noopener">Course Documents</a></li>
<li><a href="https://github.com/ddd-edm-online-course/2018-11-19-oreilly-online-trng-cyrgue" target="_blank" rel="noopener">Exercises</a></li>
<li><a href="https://travis-ci.com/ddd-edm-online-course/2018-11-19-oreilly-online-trng-cyrgue" target="_blank" rel="noopener">Travis</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-11-22T02:38:23.000Z"><a href="/2018/11/21/java-design-chain-of-responsability/">2018-11-21</a></time>
      
      
  
    <h1 class="title"><a href="/2018/11/21/java-design-chain-of-responsability/">java-design-chain-of-responsability</a></h1>
  

    </header>
    <div class="entry">
      
        <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cyrgue.designpatterns.chain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ConflictChecker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> UserModel anonymousUser;</span><br><span class="line">    <span class="keyword">protected</span> UserModel registeredUser;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> ConflictChecker nextChecker;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConflictChecker</span><span class="params">(UserModel anonymousUser, UserModel registeredUser)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.anonymousUser = anonymousUser;</span><br><span class="line">        <span class="keyword">this</span>.registeredUser = registeredUser;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNextChecker</span><span class="params">(ConflictChecker nextChecker)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nextChecker = nextChecker;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.hasConflict()) &#123;</span><br><span class="line">            process();</span><br><span class="line">        &#125;  <span class="comment">// Possible d'avoir un else ici - La chaine s'arrete</span></span><br><span class="line">        <span class="keyword">if</span> (nextChecker != <span class="keyword">null</span>) &#123;</span><br><span class="line">            nextChecker.check();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">hasConflict</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cyrgue.designpatterns.chain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CartConflictChecker</span> <span class="keyword">extends</span> <span class="title">ConflictChecker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CartConflictChecker</span><span class="params">(UserModel anonymousUser, UserModel registeredUser)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(anonymousUser, registeredUser);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Cart Conflicts !!!!!"</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"Cart Conflicts !!!!!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">hasConflict</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !anonymousUser.hasSameCart(registeredUser);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cyrgue.designpatterns.chain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StoreConflictChecker</span> <span class="keyword">extends</span> <span class="title">ConflictChecker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StoreConflictChecker</span><span class="params">(UserModel anonymousUser, UserModel registeredUser)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(anonymousUser, registeredUser);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Store Conflicts !!!!!"</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"Store Conflicts !!!!!"</span>); <span class="comment">//Pour arreter mais pas obligé</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">hasConflict</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !anonymousUser.hasSameShop(registeredUser);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cyrgue.designpatterns.chain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConflictCheckerProgram</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> ConflictChecker <span class="title">getChainOfConflicts</span><span class="params">(UserModel anonymous, UserModel registered)</span></span>&#123;</span><br><span class="line">        ConflictChecker cartConflictChecker = <span class="keyword">new</span> CartConflictChecker(anonymous, registered);</span><br><span class="line">        ConflictChecker storeConflictChecker = <span class="keyword">new</span> StoreConflictChecker(anonymous, registered);</span><br><span class="line">        cartConflictChecker.setNextChecker(storeConflictChecker);</span><br><span class="line">        <span class="keyword">return</span> cartConflictChecker;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        UserModel anonymous = userBuilder().cartId(<span class="string">"1"</span>).shopId(<span class="number">1</span>).build();</span><br><span class="line">        UserModel registered = userBuilder().cartId(<span class="string">"2"</span>).shopId(<span class="number">2</span>).build();</span><br><span class="line">        ConflictChecker checkerChain = getChainOfConflicts(anonymous, registered);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            checkerChain.check();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> UserModel.<span class="function">UserModelBuilder <span class="title">userBuilder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserModel.UserModelBuilder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cyrgue.designpatterns.chain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserModel</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String cartId;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> shopId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasSameCart</span><span class="params">(UserModel registeredUser)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.getCartId().equals(registeredUser.getCartId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasSameShop</span><span class="params">(UserModel registeredUser)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> shopId == registeredUser.getShopId();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-10-17T14:17:14.000Z"><a href="/2018/10/17/java-equals/">2018-10-17</a></time>
      
      
  
    <h1 class="title"><a href="/2018/10/17/java-equals/">Equals et Hashcode</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Generality"><a href="#Generality" class="headerlink" title="Generality"></a>Generality</h1><p>Equals et Hashode are used for data structure </p>
<h1 id="Equality"><a href="#Equality" class="headerlink" title="Equality"></a>Equality</h1><ul>
<li>== : Compare the <strong>value</strong> of 2 expressions</li>
<li><p>equals : Can be overwritten</p>
<p>l’opérateur == compare les valeurs des types primitifs (int, long, char, etc).<br>Utilisé entre deux objets, ce sont les <strong>adresses des références</strong> qui sont comparées, ce qui implique que l’utilisation de == sur deux instances distinctes sémantiquement équivalentes retournera false. </p>
</li>
</ul>
<p>redéfinir en respectant les règles suivantes : l’implémentation doit être </p>
<ul>
<li>reflexive, </li>
<li>symétrique, </li>
<li>transitive,</li>
<li>cohérente, </li>
</ul>
<p>Method equals()</p>
<ul>
<li><p>Defined in java.lang.Object Class</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span> == obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>héritée par tous les objects</p>
</li>
</ul>
<p>Il est nécessaire de redefinir la méthode equals dans les objets pour valider le comportement d’égalité de l’objet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Student student = (Student) o;</span><br><span class="line">    <span class="keyword">return</span> Objects.equals(firstname, student.firstname) &amp;&amp;</span><br><span class="line">            Objects.equals(lastName, student.lastName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Objects.hash(firstname, lastName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Dans la classe String, <strong>equals</strong> a déjà été redefini, dans StringBuilder non, mais String et StringBuilder sont différents en tant qu’Objet</p>
<p><strong> La majorité des classes java ne redéfinisse pas la méthode equals()</strong><br>Seuls les types immuables redéfinissent la méthode equals() (String, Wrapper de primitive…)</p>
<p>Attention en Java8</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">String str1 = <span class="string">"Hello"</span>;</span><br><span class="line">String str2 = <span class="string">"Hello"</span>;</span><br><span class="line"></span><br><span class="line">str1 == stre =&gt; <span class="keyword">true</span></span><br><span class="line"></span><br><span class="line">String str1 = <span class="keyword">new</span> String(<span class="string">"Hello"</span>);</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">"Hello"</span>);</span><br><span class="line"></span><br><span class="line">str1 == stre =&gt; <span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/java/oca-javase8/equality.png?raw=true" alt="Equals for primitive and Objects" title="Equals">   </p>
<h2 id="Hashcode"><a href="#Hashcode" class="headerlink" title="Hashcode"></a>Hashcode</h2><p>Valeur de haschage (entier signé de 32 bits)<br>important pour les performances des tables de hashages et structure de données.</p>
<p>Cette valeur de hachage est utilisée par d’autres codes lors du stockage ou de la manipulation de l’instance - les valeurs visent à être réparties de manière homogène pour différentes entrées de manière à être utilisées en agglomération. Cette propriété est importante pour les performances des tables de hachage et autres structures de données qui stockent des objets en groupes (“agglomérats”) en fonction de leurs valeurs de hachage.</p>
<ul>
<li>deux objets pour lesquels la méthode equals() renvoie true doivent renvoyer la même valeur de hachage</li>
</ul>
<p>Ce qu’il se produit ici est que les Hash(Map|Set) classent les objets dans un histogramme basé sur le hashCode. A l’instar d’equals, le hashCode par défaut de Hotspot convertit l’adresse en entier et donc retourne des valeurs différentes pour des objets différents. Les méthodes des hash collections utilisent la valeur du hashCode pour localiser un objet dans l’histogramme et si celui-ci ne contient pas cet entier, alors il est considéré que l’objet ne figure pas dans la collection. Deuxième effet kiss kool : puisque deux objets distincts mais sémantiquement égaux ont des hashCode différents, alors ils sont rangés dans des buckets différents impliquant le stockage de doublons, ce qui est en rupture avec le contrat de base du Set.</p>
<p> redéfinir hashCode de concert avec equals est primordial. Mais qu’est ce que le hashCode ? Simplement une réduction d’un objet sous forme de valeur entière. L’implémentation doit être cohérente avec equals : deux objets égaux doivent présenter le même hashcode, en revanche il n’est pas requis que deux objets ayant le même hashCode soient forcément égaux,</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-10-16T12:45:16.000Z"><a href="/2018/10/16/mongodb/">2018-10-16</a></time>
      
      
  
    <h1 class="title"><a href="/2018/10/16/mongodb/">mongodb</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="mongo-Shell-Quick-Reference"><a href="#mongo-Shell-Quick-Reference" class="headerlink" title="mongo Shell Quick Reference"></a>mongo Shell Quick Reference</h1><h2 id="Connect"><a href="#Connect" class="headerlink" title="Connect"></a>Connect</h2><p><code>mongo --port 28015</code></p>
<h2 id="Print-a-list-of-all-databases-on-the-server"><a href="#Print-a-list-of-all-databases-on-the-server" class="headerlink" title="Print a list of all databases on the server"></a>Print a list of all databases on the server</h2><p><code>show dbs</code></p>
<h2 id="Select-a-database"><a href="#Select-a-database" class="headerlink" title="Select a database"></a>Select a database</h2><p><code>use databaseName</code></p>
<h2 id="display-current-database"><a href="#display-current-database" class="headerlink" title="display current database"></a>display current database</h2><p><code>db</code></p>
<h2 id="Print-a-list-of-all-collections-for-current-database"><a href="#Print-a-list-of-all-collections-for-current-database" class="headerlink" title="Print a list of all collections for current database."></a>Print a list of all collections for current database.</h2><p><code>show collections</code></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-10-16T12:37:14.000Z"><a href="/2018/10/16/design-patterns/">2018-10-16</a></time>
      
      
  
    <h1 class="title"><a href="/2018/10/16/design-patterns/">design-patterns</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h1><ul>
<li><a href="https://www.safaribooksonline.com/live-training/courses/design-patterns-boot-camp/0636920098294/" target="_blank" rel="noopener">Course description</a></li>
<li><a href="https://www.safaribooksonline.com/library/view/head-first-design/0596007124/" target="_blank" rel="noopener">Book : Head First Design Patterns</a></li>
<li><a href="https://www.safaribooksonline.com/videos/design-patterns-clean/9780135485965" target="_blank" rel="noopener">Design Patterns (Clean Coders Video Series)</a></li>
<li><a href="https://www.safaribooksonline.com/videos/learn-design-patterns/9781788838795" target="_blank" rel="noopener">Learn Design Patterns with Java</a></li>
<li><a href="https://www.safaribooksonline.com/library/view/java-ee-8/9781788830621/" target="_blank" rel="noopener">Java EE 8 Design Patterns and Best Practices</a></li>
<li><a href="https://www.safaribooksonline.com/library/view/java-ee-8/9781788830621/" target="_blank" rel="noopener">Design Patterns and Best Practices in Java</a></li>
</ul>
<ul>
<li>Design Principle : Identify the aspects of your application that vary and separate them from what stays the same<br>Not all in the application vary !!! Or you have a problem </li>
<li>Design Principle : Program to an interface, not an implementation</li>
<li><p>Design Principle : Favor composition over inheritance (has-a can be better than is-a)</p>
<p>Composition<br>Seperating what Chanage with an Interfcae<br><strong>Using composition to add behavior</strong></p>
</li>
</ul>
<h1 id="The-Strategy-Pattern"><a href="#The-Strategy-Pattern" class="headerlink" title="The Strategy Pattern"></a>The Strategy Pattern</h1><p>Defines a family of algorithms encapsulating each one, and makes them interchangeable.<br>Strategy lets the algorithm vary independently from the clients that use it</p>
<h1 id="Pattern"><a href="#Pattern" class="headerlink" title="Pattern"></a>Pattern</h1><h2 id="Creational"><a href="#Creational" class="headerlink" title="Creational"></a>Creational</h2><h3 id="Singleton"><a href="#Singleton" class="headerlink" title="Singleton"></a>Singleton</h3><h3 id="Builder"><a href="#Builder" class="headerlink" title="Builder"></a>Builder</h3><h3 id="Abstract-Factory"><a href="#Abstract-Factory" class="headerlink" title="Abstract Factory"></a>Abstract Factory</h3><h3 id="Factory-Method"><a href="#Factory-Method" class="headerlink" title="Factory Method"></a>Factory Method</h3><h3 id="Prototype"><a href="#Prototype" class="headerlink" title="Prototype"></a>Prototype</h3><h2 id="Behavioral"><a href="#Behavioral" class="headerlink" title="Behavioral"></a>Behavioral</h2><h3 id="Mediator"><a href="#Mediator" class="headerlink" title="Mediator"></a>Mediator</h3><h3 id="Visitor"><a href="#Visitor" class="headerlink" title="Visitor"></a>Visitor</h3><h3 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h3><h3 id="Template-Method"><a href="#Template-Method" class="headerlink" title="Template Method"></a>Template Method</h3><h3 id="Command"><a href="#Command" class="headerlink" title="Command"></a>Command</h3><h3 id="Memento"><a href="#Memento" class="headerlink" title="Memento"></a>Memento</h3><h3 id="Chain-of-Responsability"><a href="#Chain-of-Responsability" class="headerlink" title="Chain of Responsability"></a>Chain of Responsability</h3><h3 id="State"><a href="#State" class="headerlink" title="State"></a>State</h3><h3 id="Strategy"><a href="#Strategy" class="headerlink" title="Strategy"></a>Strategy</h3><h2 id="Structural"><a href="#Structural" class="headerlink" title="Structural"></a>Structural</h2><p>Observer Pattern<br>The Observer Pattern defines a one-to-many dependency between objects so that when one object changes state, all of its dependents are notified and updated automatically.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-10-13T15:08:35.000Z"><a href="/2018/10/13/maven/">2018-10-13</a></time>
      
      
  
    <h1 class="title"><a href="/2018/10/13/maven/">maven</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Configuration-des-tests-unitaires-et-d’integration"><a href="#Configuration-des-tests-unitaires-et-d’integration" class="headerlink" title="Configuration des tests unitaires et d’integration"></a>Configuration des tests unitaires et d’integration</h1><p>Par défaut les tests sont activés<br><code>mvn compile -DskipTests=true</code></p>
<h2 id="With-IDEA"><a href="#With-IDEA" class="headerlink" title="With IDEA"></a>With IDEA</h2><h2 id="With-Maven"><a href="#With-Maven" class="headerlink" title="With Maven"></a>With Maven</h2><p>PAr défaut les     </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-10-13T01:35:00.000Z"><a href="/2018/10/12/web-architecture/">2018-10-12</a></time>
      
      
  
    <h1 class="title"><a href="/2018/10/12/web-architecture/">web-architecture</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h2><p>Angular 7</p>
<ul>
<li>packaging</li>
<li>deploiement</li>
<li>tests</li>
<li>Cross Browsing</li>
</ul>
<h2 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h2><ul>
<li>A valider : Licence Java </li>
<li>SpringBoot</li>
<li>REST API</li>
<li><p>Configuration par environnement / profile [1d]</p>
<p>Tests</p>
<ul>
<li>Integration</li>
<li>Unit</li>
<li>Configuration par environnement et etre capable de lancer les tests independament [1d]</li>
</ul>
</li>
</ul>
<h2 id="Database"><a href="#Database" class="headerlink" title="Database"></a>Database</h2><p> SQL or NoSQ<br> ORM (hibernate)<br> Migration de schema, de données</p>
<h2 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h2><h2 id="Documentation"><a href="#Documentation" class="headerlink" title="Documentation"></a>Documentation</h2><p>Swagger</p>
<h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><p>Tests de charge / JMETER</p>
<h2 id="Metrique"><a href="#Metrique" class="headerlink" title="Metrique"></a>Metrique</h2><h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><p>Par environnement, par client</p>
<p>Cache</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-10-12T20:08:09.000Z"><a href="/2018/10/12/spring-5/">2018-10-12</a></time>
      
      
  
    <h1 class="title"><a href="/2018/10/12/spring-5/">spring-5</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Resources</p>
<ul>
<li><a href="https://www.safaribooksonline.com/library/view/spring-microservices-with/9781789132588/" target="_blank" rel="noopener">Spring: Microservices with Spring Boot</a> March 2018</li>
<li><a href="https://www.safaribooksonline.com/library/view/software-architecture-with/9781788992992/" target="_blank" rel="noopener">Software Architecture with Spring 5.0</a></li>
<li><a href="https://www.safaribooksonline.com/library/view/spring-boot-20/9781789136159/" target="_blank" rel="noopener">Spring Boot 2.0 Projects</a></li>
<li><a href="https://www.safaribooksonline.com/library/view/hands-on-high-performance/9781788838382/" target="_blank" rel="noopener">Hands-On High Performance with Spring 5</a> - June 2018</li>
<li><a href="https://www.safaribooksonline.com/library/view/mastering-spring-boot/9781787127562/" target="_blank" rel="noopener">Mastering Spring Boot 2.0</a> - May 2018</li>
<li><a href="https://www.safaribooksonline.com/library/view/spring-boot-20/9781787129825/" target="_blank" rel="noopener">Spring Boot 2.0 Cookbook - Second Edition</a> - February 2018</li>
</ul>
<h1 id="Main-Application"><a href="#Main-Application" class="headerlink" title="Main Application"></a>Main Application</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CmsApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SpringApplication.run(CmsApplication.class, args);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Rest-Controller"><a href="#Rest-Controller" class="headerlink" title="Rest Controller"></a>Rest Controller</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/api/user"</span>)</span><br><span class="line"><span class="meta">@Api</span>(tags = <span class="string">"user"</span>, description = <span class="string">"User API"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserResource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserResource</span><span class="params">(UserService userService)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation</span>(</span><br><span class="line">            value = <span class="string">"Retrieve all users "</span>,</span><br><span class="line">            notes = <span class="string">"A list of user is returned. Current pagination is not supported."</span>,</span><br><span class="line">            response = User.class,</span><br><span class="line">            responseContainer = <span class="string">"List"</span>,</span><br><span class="line">            produces = <span class="string">"application/json"</span>)</span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;List&lt;User&gt;&gt; findAll() &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(<span class="keyword">this</span>.userService.findAll());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(value = <span class="string">"/&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Resource&lt;User&gt; <span class="title">findOne</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> String id) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title">create</span><span class="params">(@RequestBody @Valid UserRequest request)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(<span class="keyword">this</span>.userService.create(request), HttpStatus.CREATED);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"># Configuration</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Cors</span><br><span class="line">```java</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WebMvcConfigurer <span class="title">corsConfigurer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WebMvcConfigurerAdapter() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> </span>&#123;</span><br><span class="line">                registry.addMapping(<span class="string">"/api/**"</span>).allowedMethods(<span class="string">"GET"</span>, <span class="string">"POST"</span>, <span class="string">"PUT"</span>, <span class="string">"DELETE"</span>, <span class="string">"HEAD"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger</span>2</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">api</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.any())</span><br><span class="line">                .paths(PathSelectors.any()).build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Database-Layer"><a href="#Database-Layer" class="headerlink" title="Database Layer"></a>Database Layer</h1><h2 id="Mongo"><a href="#Mongo" class="headerlink" title="Mongo"></a>Mongo</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableMongoRepositories</span>(&#123;<span class="string">"com.explorance.bfd"</span>&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersistenceConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@Bean</span> <span class="function">MongoClient <span class="title">mongoClient</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            @Value(<span class="string">"#&#123;systemEnvironment['mongodb.host'] ?: 'localhost'&#125;"</span>)</span> String host,</span></span><br><span class="line"><span class="function">            @<span class="title">Value</span><span class="params">(<span class="string">"#&#123;systemEnvironment['mongodb.port'] ?: 27017&#125;"</span>)</span> Integer port) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MongoClient(<span class="keyword">new</span> ServerAddress(host, port));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="meta">@Bean</span> <span class="function">MongoTemplate <span class="title">mongoTemplate</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            MongoClient mongo,</span></span></span><br><span class="line"><span class="function"><span class="params">            @Value(<span class="string">"#&#123;systemEnvironment['mongodb.database'] ?: 'dashboard'&#125;"</span>)</span> String database) <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        MongoTemplate template = <span class="keyword">new</span> MongoTemplate(<span class="keyword">new</span> SimpleMongoDbFactory(mongo, database));</span><br><span class="line">        template.setWriteResultChecking(WriteResultChecking.EXCEPTION);</span><br><span class="line">        template.setWriteConcern(WriteConcern.ACKNOWLEDGED);</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">MongoRepository</span>&lt;<span class="title">User</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findByEmail</span><span class="params">(String email)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Entity"><a href="#Entity" class="headerlink" title="Entity"></a>Entity</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.annotation.Id;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.mongodb.core.mapping.Document;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Document</span>(collection = <span class="string">"user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    String id;</span><br><span class="line"></span><br><span class="line">    String email;</span><br><span class="line"></span><br><span class="line">    String firstName;</span><br><span class="line"></span><br><span class="line">    String lastName;</span><br><span class="line"></span><br><span class="line">    Role role;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        User user = (User) o;</span><br><span class="line">        <span class="keyword">return</span> Objects.equals(id, user.id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    User(String firstName, String lastName, String email, Role role) &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = UUID.randomUUID().toString();</span><br><span class="line">        <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">        <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">        <span class="keyword">this</span>.role = role;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserBuilder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> String firstName;</span><br><span class="line">        <span class="keyword">private</span> String lastName;</span><br><span class="line">        <span class="keyword">private</span> String email;</span><br><span class="line">        <span class="keyword">private</span> Role role;</span><br><span class="line"></span><br><span class="line">        UserBuilder(String email) &#123;</span><br><span class="line">            <span class="keyword">this</span>.email = email;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserBuilder <span class="title">buildFrom</span><span class="params">(String email)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> UserBuilder(email);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">withFirstName</span><span class="params">(String firstName)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">withLastName</span><span class="params">(String lastName)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> UserBuilder <span class="title">withRoleName</span><span class="params">(String roleName)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.role = roleName == <span class="keyword">null</span> ? Role.READER : Arrays.asList(Role.values())</span><br><span class="line">                    .stream()</span><br><span class="line">                    .filter(r -&gt; r.equals(Role.valueOf(roleName)))</span><br><span class="line">                    .findFirst().orElse(Role.READER);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> User <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> User(firstName, lastName, email, role);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h1><p>Apache Commons Logging API =&gt; provided by Spring Framework’s spring-jcl module<br>The simplest way to do that is through the starters, which all depend on spring-boot-starter-logging. For a web application, you need only spring-boot-starter-web</p>
<p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html" target="_blank" rel="noopener">Ref</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-10-12T19:52:37.000Z"><a href="/2018/10/12/database/">2018-10-12</a></time>
      
      
  
    <h1 class="title"><a href="/2018/10/12/database/">database</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Les-tables-SQL-vs-Les-documents-noSQL"><a href="#Les-tables-SQL-vs-Les-documents-noSQL" class="headerlink" title="Les tables SQL vs Les documents noSQL"></a>Les tables SQL vs Les documents noSQL</h1><p>Première différence de taille. SQL organise le stockage de données sur le principe de tables reliées entre elles. La structure et les types des données sont rigides, c’est-à-dire fixés à l’avance avant d’implémenter une logique métier.<br>noSQL stocke et manipule des documents qui correspondent à des collections d’objets.<br>noSQL on peut stocker toutes les données que l’on souhaite dans n’importe quel document </p>
<p>Les tables SQL imposent un modèle de données strictes, donc il est difficile de faire des erreurs. NoSQL est plus flexible et pardonnable, mais la possibilité de stocker des données n’importe où peut entraîner des problèmes de cohérence</p>
<p>2- « Le schéma SQL » vs « La logique noSQL »<br>Dans une base de données SQL, il est impossible d’ajouter des données tant que vous ne définissez des tables et des types de champs dans ce que l’on appelle un schéma. De plus, ce schéma SQL contient d’autres informations : Clés primaires – index, contraintes, fonction, procédures stockées …<br>Votre schéma de données doit être conçu et mis en œuvre avant que toute logique métier puisse être développée pour manipuler des données. Il est possible de faire des mises à jour plus tard, mais de gros changements peuvent être compliqués.<br>Dans une base de données NoSQL, la logique est toute autre ! Les données peuvent être ajoutées n’importe où, à tout moment. Il n’est pas nécessaire de spécifier une conception de document ou même une collection à l’avance. </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
  
    <a href="/page/2/" class="alignright next">Suivant</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Rechercher">
    <input type="hidden" name="q" value="site:cyrgue.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/java/">java</a><small>4</small></li>
  
    <li><a href="/categories/java/java-8/java-9/java-10/">java 10</a><small>1</small></li>
  
    <li><a href="/categories/java/java-8/">java 8</a><small>1</small></li>
  
    <li><a href="/categories/java/java-8/java-9/">java 9</a><small>1</small></li>
  
    <li><a href="/categories/java/oca-javase8-1/">oca-javase8-1</a><small>2</small></li>
  
    <li><a href="/categories/spring/">spring</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Polymorphisme/">Polymorphisme</a><small>1</small></li>
  
    <li><a href="/tags/angular/">angular</a><small>4</small></li>
  
    <li><a href="/tags/angular2/">angular2</a><small>2</small></li>
  
    <li><a href="/tags/angularjs/">angularjs</a><small>1</small></li>
  
    <li><a href="/tags/angularjs2/">angularjs2</a><small>1</small></li>
  
    <li><a href="/tags/architecture/">architecture</a><small>4</small></li>
  
    <li><a href="/tags/array/">array</a><small>1</small></li>
  
    <li><a href="/tags/aws/">aws</a><small>1</small></li>
  
    <li><a href="/tags/branch/">branch</a><small>1</small></li>
  
    <li><a href="/tags/collections/">collections</a><small>1</small></li>
  
    <li><a href="/tags/componant/">componant</a><small>1</small></li>
  
    <li><a href="/tags/composant/">composant</a><small>1</small></li>
  
    <li><a href="/tags/configuration/">configuration</a><small>3</small></li>
  
    <li><a href="/tags/database/">database</a><small>1</small></li>
  
    <li><a href="/tags/design-patterns/">design patterns</a><small>1</small></li>
  
    <li><a href="/tags/directive/">directive</a><small>1</small></li>
  
    <li><a href="/tags/docker/">docker</a><small>1</small></li>
  
    <li><a href="/tags/domain-driven-design/">domain driven design</a><small>1</small></li>
  
    <li><a href="/tags/ecmascript-2015/">ecmascript 2015</a><small>1</small></li>
  
    <li><a href="/tags/environment/">environment</a><small>1</small></li>
  
    <li><a href="/tags/eslint/">eslint</a><small>1</small></li>
  
    <li><a href="/tags/evaluation/">evaluation</a><small>1</small></li>
  
    <li><a href="/tags/exception/">exception</a><small>1</small></li>
  
    <li><a href="/tags/file-I-O/">file I/O</a><small>1</small></li>
  
    <li><a href="/tags/functional-programming/">functional programming</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>2</small></li>
  
    <li><a href="/tags/iframe/">iframe</a><small>1</small></li>
  
    <li><a href="/tags/java/">java</a><small>17</small></li>
  
    <li><a href="/tags/java-definition/">java definition</a><small>1</small></li>
  
    <li><a href="/tags/java-index/">java index</a><small>1</small></li>
  
    <li><a href="/tags/java8/">java8</a><small>5</small></li>
  
    <li><a href="/tags/java9/">java9</a><small>1</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>13</small></li>
  
    <li><a href="/tags/jsbin/">jsbin</a><small>1</small></li>
  
    <li><a href="/tags/lambda/">lambda</a><small>2</small></li>
  
    <li><a href="/tags/library/">library</a><small>1</small></li>
  
    <li><a href="/tags/maven/">maven</a><small>1</small></li>
  
    <li><a href="/tags/microservices/">microservices</a><small>1</small></li>
  
    <li><a href="/tags/ngrx/">ngrx</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>1</small></li>
  
    <li><a href="/tags/npm/">npm</a><small>1</small></li>
  
    <li><a href="/tags/observable/">observable</a><small>1</small></li>
  
    <li><a href="/tags/programmation-fonctionnelle/">programmation fonctionnelle</a><small>1</small></li>
  
    <li><a href="/tags/rxjs/">rxjs</a><small>1</small></li>
  
    <li><a href="/tags/select/">select</a><small>1</small></li>
  
    <li><a href="/tags/serverless/">serverless</a><small>2</small></li>
  
    <li><a href="/tags/spring/">spring</a><small>1</small></li>
  
    <li><a href="/tags/stream/">stream</a><small>1</small></li>
  
    <li><a href="/tags/strean/">strean</a><small>1</small></li>
  
    <li><a href="/tags/tests/">tests</a><small>1</small></li>
  
    <li><a href="/tags/thread/">thread</a><small>1</small></li>
  
    <li><a href="/tags/time/">time</a><small>1</small></li>
  
    <li><a href="/tags/tools/">tools</a><small>1</small></li>
  
    <li><a href="/tags/web/">web</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
    <div>test</div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2018 cyrgue
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>