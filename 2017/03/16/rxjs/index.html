<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>rxjs | cyrgue</title>
  <meta name="author" content="cyrgue">
  
  <meta name="description" content="DefinitionUn Observable est un producteur de données qui peut être Observer.on l’observe avec la méthode subscribe et cette observation sera exécutée ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="rxjs"/>
  <meta property="og:site_name" content="cyrgue"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="cyrgue" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">cyrgue</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-03-17T00:50:36.000Z"><a href="/2017/03/16/rxjs/">2017-03-16</a></time>
      
      
  
    <h1 class="title">rxjs</h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>Un Observable est un producteur de données qui peut être Observer.<br>on l’observe avec la méthode subscribe et cette observation sera exécutée par un Observer.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> observable = Rx.Observable.create(<span class="function"><span class="keyword">function</span>(<span class="params">observer</span>)  </span>&#123;</span><br><span class="line">    observer.next(<span class="string">"one result"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> observer = observable.subscribe(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e));</span><br></pre></td></tr></table></figure></p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Rx.Observable.create(function(observer) &#123;</span><br><span class="line">   observer.next(<span class="string">"vue"</span>);</span><br><span class="line">   observer.next(<span class="string">"vuue"</span>);</span><br><span class="line">   observer.complete(<span class="string">"inutile"</span>);</span><br><span class="line">   observer.next(<span class="string">"pas vue"</span>);</span><br><span class="line">&#125;).subscribe(</span><br><span class="line">   (e) =&gt; <span class="built_in">console</span>.log(<span class="string">"next: "</span> + e)</span><br><span class="line"> , <span class="function"><span class="params">(e)</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"error: "</span> + e)</span><br><span class="line"> , <span class="function"><span class="params">(e)</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"complete"</span>)</span><br><span class="line"> );</span><br></pre></td></tr></table></figure>
<h2 id="Differences-avec-une-promesse"><a href="#Differences-avec-une-promesse" class="headerlink" title="Différences avec une promesse"></a>Différences avec une promesse</h2><p>un observable est ‘lazy’. Tant que vous n’appelez pas subscribe() sur un observable que vous avez créé, le code que contient cet observable ne s’exécute pas<br>on peut annuler un observable<br>un observable peut être répété. S’il a précédemmement échoué (en raison d’une erreur réseau par exemple), il peut réussir lors d’une nouvelle exécution future (à l’aide de retry()) plus tard. Tandis qu’une promise conserve en cache le résultat de sa première exécution.</p>
<p>Les Observables peuvent gérer une infinité de valeurs de retour.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Rx.Observable.create(<span class="function"><span class="keyword">function</span>(<span class="params">observer</span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> observer.next(<span class="string">"valeur A"</span>), <span class="number">700</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> observer.next(<span class="string">"valeur B"</span>), <span class="number">400</span>);</span><br><span class="line">&#125;)</span><br><span class="line"> .subscribe(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e));</span><br></pre></td></tr></table></figure></p>
<p>Ceci est possible parce que les Observables nous fournissent des streams.</p>
<h2 id="Avantages"><a href="#Avantages" class="headerlink" title="Avantages"></a>Avantages</h2><p>Il est possible de  :</p>
<ul>
<li>merger des Observables, ce qui permet d’écouter plusieurs Observables avec un même subscriber.</li>
<li>écouter un même Observable avec plusieurs subscribers par l’intermédiaire des Subjects.<br>RxJS met à notre disposition tout l’arsenal de la programmation fonctionnelle.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Rx.Observable.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">  .filter(<span class="function"><span class="params">e</span> =&gt;</span> e % <span class="number">2</span> == <span class="number">0</span> )</span><br><span class="line">  .do(<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"filtred value: "</span> + e)) <span class="comment">//très utile pour débugger.</span></span><br><span class="line">  .map(<span class="function"><span class="params">e</span> =&gt;</span> e*<span class="number">3</span>)</span><br><span class="line">  .subscribe(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e));</span><br></pre></td></tr></table></figure>
<h3 id="Creation"><a href="#Creation" class="headerlink" title="Creation"></a>Creation</h3><ul>
<li>Observable.create</li>
<li>Observable.of</li>
<li>Observable.fromEvent</li>
</ul>
<h3 id="Subject"><a href="#Subject" class="headerlink" title="Subject"></a>Subject</h3><ul>
<li><p>est à la fois un Observable et un Observer, c’est à dire que l’on va à la fois pouvoir .subscribe() et appeler la méthode .next() dessus.</p>
<ul>
<li>permet d’avoir plusieurs subscribers sur un observable</li>
</ul>
<p>le Subject a un etat et une liste d’Observers</p>
</li>
</ul>
<p>Ref : <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md" target="_blank" rel="noopener">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md</a></p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line">Rx.Observable.fromEvent(button, <span class="string">'click'</span>)</span><br><span class="line">  .subscribe(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Bonjour!"</span>));</span><br></pre></td></tr></table></figure>
<h3 id="Take"><a href="#Take" class="headerlink" title="Take"></a>Take</h3><p>.take(n) permet de ne prendre que lesn premières valeurs renvoyées par l’Observable.</p>

      
    </div>
    <footer>
      
        
        
  
  <div class="tags">
    <a href="/tags/javascript/">javascript</a>, <a href="/tags/rxjs/">rxjs</a>, <a href="/tags/observable/">observable</a>, <a href="/tags/programmation-fonctionnelle/">programmation fonctionnelle</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Commentaires</h1>

  
      <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=123456789012345";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<div class="fb-comments" data-href="http://cyrgue.github.io/2017/03/16/rxjs/index.html" data-num-posts="5" data-width="840" data-colorscheme="light"></div>
      
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Rechercher">
    <input type="hidden" name="q" value="site:cyrgue.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Sports/Baseball/">Baseball</a><small>1</small></li>
  
    <li><a href="/categories/Sports/">Sports</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/angular/">angular</a><small>4</small></li>
  
    <li><a href="/tags/angular2/">angular2</a><small>2</small></li>
  
    <li><a href="/tags/angularjs/">angularjs</a><small>1</small></li>
  
    <li><a href="/tags/angularjs2/">angularjs2</a><small>1</small></li>
  
    <li><a href="/tags/architecture/">architecture</a><small>1</small></li>
  
    <li><a href="/tags/array/">array</a><small>1</small></li>
  
    <li><a href="/tags/aws/">aws</a><small>1</small></li>
  
    <li><a href="/tags/branch/">branch</a><small>1</small></li>
  
    <li><a href="/tags/componant/">componant</a><small>1</small></li>
  
    <li><a href="/tags/composant/">composant</a><small>1</small></li>
  
    <li><a href="/tags/configuration/">configuration</a><small>2</small></li>
  
    <li><a href="/tags/database/">database</a><small>1</small></li>
  
    <li><a href="/tags/directive/">directive</a><small>1</small></li>
  
    <li><a href="/tags/divertissement/">divertissement</a><small>1</small></li>
  
    <li><a href="/tags/docker/">docker</a><small>1</small></li>
  
    <li><a href="/tags/ecmascript-2015/">ecmascript 2015</a><small>1</small></li>
  
    <li><a href="/tags/eslint/">eslint</a><small>1</small></li>
  
    <li><a href="/tags/evaluation/">evaluation</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>2</small></li>
  
    <li><a href="/tags/iframe/">iframe</a><small>1</small></li>
  
    <li><a href="/tags/java/">java</a><small>2</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>13</small></li>
  
    <li><a href="/tags/jsbin/">jsbin</a><small>1</small></li>
  
    <li><a href="/tags/library/">library</a><small>1</small></li>
  
    <li><a href="/tags/ngrx/">ngrx</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>1</small></li>
  
    <li><a href="/tags/npm/">npm</a><small>1</small></li>
  
    <li><a href="/tags/observable/">observable</a><small>1</small></li>
  
    <li><a href="/tags/programmation-fonctionnelle/">programmation fonctionnelle</a><small>1</small></li>
  
    <li><a href="/tags/rxjs/">rxjs</a><small>1</small></li>
  
    <li><a href="/tags/select/">select</a><small>1</small></li>
  
    <li><a href="/tags/serverless/">serverless</a><small>2</small></li>
  
    <li><a href="/tags/sport/">sport</a><small>1</small></li>
  
    <li><a href="/tags/tests/">tests</a><small>1</small></li>
  
    <li><a href="/tags/thread/">thread</a><small>1</small></li>
  
    <li><a href="/tags/tools/">tools</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
    <div>test</div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2018 cyrgue
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>