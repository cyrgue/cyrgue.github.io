<!DOCTYPE html><html lang="fr-FR"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>rxjs | cyrgue</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">rxjs</h1><a id="logo" href="/.">cyrgue</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Accueil</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> À propos</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">rxjs</h1><div class="post-meta"><a href="/2017/03/16/rxjs/#comments" class="comment-count"></a><p><span class="date">Mar 16, 2017</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>Les coups</i></i></span></p></div><div class="post-content"><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>Un Observable est un producteur de données qui peut être Observer.<br>on l’observe avec la méthode subscribe et cette observation sera exécutée par un Observer.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> observable = Rx.Observable.create(<span class="function"><span class="keyword">function</span>(<span class="params">observer</span>)  </span>&#123;</span><br><span class="line">    observer.next(<span class="string">"one result"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> observer = observable.subscribe(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e));</span><br></pre></td></tr></table></figure></p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Rx.Observable.create(function(observer) &#123;</span><br><span class="line">   observer.next(<span class="string">"vue"</span>);</span><br><span class="line">   observer.next(<span class="string">"vuue"</span>);</span><br><span class="line">   observer.complete(<span class="string">"inutile"</span>);</span><br><span class="line">   observer.next(<span class="string">"pas vue"</span>);</span><br><span class="line">&#125;).subscribe(</span><br><span class="line">   (e) =&gt; <span class="built_in">console</span>.log(<span class="string">"next: "</span> + e)</span><br><span class="line"> , <span class="function"><span class="params">(e)</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"error: "</span> + e)</span><br><span class="line"> , <span class="function"><span class="params">(e)</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"complete"</span>)</span><br><span class="line"> );</span><br></pre></td></tr></table></figure>
<h2 id="Differences-avec-une-promesse"><a href="#Differences-avec-une-promesse" class="headerlink" title="Différences avec une promesse"></a>Différences avec une promesse</h2><p>un observable est ‘lazy’. Tant que vous n’appelez pas subscribe() sur un observable que vous avez créé, le code que contient cet observable ne s’exécute pas<br>on peut annuler un observable<br>un observable peut être répété. S’il a précédemmement échoué (en raison d’une erreur réseau par exemple), il peut réussir lors d’une nouvelle exécution future (à l’aide de retry()) plus tard. Tandis qu’une promise conserve en cache le résultat de sa première exécution.</p>
<p>Les Observables peuvent gérer une infinité de valeurs de retour.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Rx.Observable.create(<span class="function"><span class="keyword">function</span>(<span class="params">observer</span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> observer.next(<span class="string">"valeur A"</span>), <span class="number">700</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> observer.next(<span class="string">"valeur B"</span>), <span class="number">400</span>);</span><br><span class="line">&#125;)</span><br><span class="line"> .subscribe(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e));</span><br></pre></td></tr></table></figure></p>
<p>Ceci est possible parce que les Observables nous fournissent des streams.</p>
<h2 id="Avantages"><a href="#Avantages" class="headerlink" title="Avantages"></a>Avantages</h2><p>Il est possible de  :</p>
<ul>
<li>merger des Observables, ce qui permet d’écouter plusieurs Observables avec un même subscriber.</li>
<li>écouter un même Observable avec plusieurs subscribers par l’intermédiaire des Subjects.<br>RxJS met à notre disposition tout l’arsenal de la programmation fonctionnelle.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Rx.Observable.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line">  .filter(<span class="function"><span class="params">e</span> =&gt;</span> e % <span class="number">2</span> == <span class="number">0</span> )</span><br><span class="line">  .do(<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"filtred value: "</span> + e)) <span class="comment">//très utile pour débugger.</span></span><br><span class="line">  .map(<span class="function"><span class="params">e</span> =&gt;</span> e*<span class="number">3</span>)</span><br><span class="line">  .subscribe(<span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e));</span><br></pre></td></tr></table></figure>
<h3 id="Creation"><a href="#Creation" class="headerlink" title="Creation"></a>Creation</h3><ul>
<li>Observable.create</li>
<li>Observable.of</li>
<li>Observable.fromEvent</li>
</ul>
<h3 id="Subject"><a href="#Subject" class="headerlink" title="Subject"></a>Subject</h3><ul>
<li><p>est à la fois un Observable et un Observer, c’est à dire que l’on va à la fois pouvoir .subscribe() et appeler la méthode .next() dessus.</p>
<ul>
<li>permet d’avoir plusieurs subscribers sur un observable</li>
</ul>
<p>le Subject a un etat et une liste d’Observers</p>
</li>
</ul>
<p>Ref : <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md" target="_blank" rel="noopener">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md</a></p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line">Rx.Observable.fromEvent(button, <span class="string">'click'</span>)</span><br><span class="line">  .subscribe(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Bonjour!"</span>));</span><br></pre></td></tr></table></figure>
<h3 id="Take"><a href="#Take" class="headerlink" title="Take"></a>Take</h3><p>.take(n) permet de ne prendre que lesn premières valeurs renvoyées par l’Observable.</p>
</div><div class="tags"><a href="/tags/javascript/">javascript</a><a href="/tags/rxjs/">rxjs</a><a href="/tags/observable/">observable</a><a href="/tags/programmation-fonctionnelle/">programmation fonctionnelle</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2017/08/20/javascript-tool/" class="pre">javascript-tool</a><a href="/2017/03/01/javascript-generality/" class="next">javascript-generality</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">Contenus</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Definition"><span class="toc-text">Definition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Differences-avec-une-promesse"><span class="toc-text">Différences avec une promesse</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Avantages"><span class="toc-text">Avantages</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Creation"><span class="toc-text">Creation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Subject"><span class="toc-text">Subject</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Take"><span class="toc-text">Take</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> Récent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/12/10/sql/">sql</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/30/robot-framework/">Robot Framework</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/22/domain-driven-design/">Domain-driven design and event-driven microservices</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/21/java-design-chain-of-responsability/">java-design-chain-of-responsability</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/17/java-equals/">Equals et Hashcode</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/16/mongodb/">mongodb</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/16/design-patterns/">design-patterns</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/13/maven/">maven</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/12/web-architecture/">web-architecture</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/12/spring-5/">spring-5</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> Catégories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/oca-javase8-1/">oca-javase8-1</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">spring</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sql/">sql</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/sql/database/">database</a><span class="category-list-count">1</span></li></ul></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> Tags</i></div><div class="tagcloud"><a href="/tags/functional-programming/" style="font-size: 15px;">functional programming</a> <a href="/tags/angularjs/" style="font-size: 15px;">angularjs</a> <a href="/tags/angular/" style="font-size: 15px;">angular</a> <a href="/tags/select/" style="font-size: 15px;">select</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/componant/" style="font-size: 15px;">componant</a> <a href="/tags/angular2/" style="font-size: 15px;">angular2</a> <a href="/tags/iframe/" style="font-size: 15px;">iframe</a> <a href="/tags/composant/" style="font-size: 15px;">composant</a> <a href="/tags/angularjs2/" style="font-size: 15px;">angularjs2</a> <a href="/tags/architecture/" style="font-size: 15px;">architecture</a> <a href="/tags/library/" style="font-size: 15px;">library</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/aws/" style="font-size: 15px;">aws</a> <a href="/tags/database/" style="font-size: 15px;">database</a> <a href="/tags/domain-driven-design/" style="font-size: 15px;">domain driven design</a> <a href="/tags/microservices/" style="font-size: 15px;">microservices</a> <a href="/tags/design-patterns/" style="font-size: 15px;">design patterns</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/configuration/" style="font-size: 15px;">configuration</a> <a href="/tags/eslint/" style="font-size: 15px;">eslint</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/branch/" style="font-size: 15px;">branch</a> <a href="/tags/tests/" style="font-size: 15px;">tests</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/collections/" style="font-size: 15px;">collections</a> <a href="/tags/java9/" style="font-size: 15px;">java9</a> <a href="/tags/java8/" style="font-size: 15px;">java8</a> <a href="/tags/exception/" style="font-size: 15px;">exception</a> <a href="/tags/directive/" style="font-size: 15px;">directive</a> <a href="/tags/stream/" style="font-size: 15px;">stream</a> <a href="/tags/lambda/" style="font-size: 15px;">lambda</a> <a href="/tags/strean/" style="font-size: 15px;">strean</a> <a href="/tags/file-I-O/" style="font-size: 15px;">file I/O</a> <a href="/tags/java-definition/" style="font-size: 15px;">java definition</a> <a href="/tags/array/" style="font-size: 15px;">array</a> <a href="/tags/java-index/" style="font-size: 15px;">java index</a> <a href="/tags/ecmascript-2015/" style="font-size: 15px;">ecmascript 2015</a> <a href="/tags/Polymorphisme/" style="font-size: 15px;">Polymorphisme</a> <a href="/tags/ngrx/" style="font-size: 15px;">ngrx</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/tools/" style="font-size: 15px;">tools</a> <a href="/tags/jsbin/" style="font-size: 15px;">jsbin</a> <a href="/tags/time/" style="font-size: 15px;">time</a> <a href="/tags/rxjs/" style="font-size: 15px;">rxjs</a> <a href="/tags/observable/" style="font-size: 15px;">observable</a> <a href="/tags/programmation-fonctionnelle/" style="font-size: 15px;">programmation fonctionnelle</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/sqlserver/" style="font-size: 15px;">sqlserver</a> <a href="/tags/serverless/" style="font-size: 15px;">serverless</a> <a href="/tags/evaluation/" style="font-size: 15px;">evaluation</a> <a href="/tags/thread/" style="font-size: 15px;">thread</a> <a href="/tags/Acceptance-Tests/" style="font-size: 15px;">Acceptance Tests</a> <a href="/tags/Tests/" style="font-size: 15px;">Tests</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/environment/" style="font-size: 15px;">environment</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> Archive</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">décembre 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">novembre 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">octobre 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">septembre 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">août 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">octobre 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">septembre 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">août 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">mars 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">février 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">janvier 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">décembre 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">novembre 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">février 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">janvier 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">octobre 2015</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> À suivre</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">RSS</a> |  <a href="/about/">À propos</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">cyrgue.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>